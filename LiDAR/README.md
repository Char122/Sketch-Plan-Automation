# 3D LiDAR Point Cloud to 2D Road Mask
The overall code logic is converting an .e57 file to a .ply file, then using the ROI to cache a smaller .ply file after filtering the data. 
The data is cleaned using outlier removers, then projected into a 2D intensity map, and holes are inpainted. Adaptive masking is then applied.

## Conversion and Caching
get_filtered_ply_path()  - takes a whole bunch of inputs and hashes them to give a unique cache id. 

load_ply_data() - reads the .ply format and builds an array

save_filtered_ply() - saves any data and using the filepath generated by get_filtered_ply_path(). This works for non-filtered .ply files too.

load_point_cloud() - If the .ply file of the entire point cloud exists, runs load_ply_data() and returns the array. Else, it will build the .ply file from the .e57 file. Since .e57 has a few formats, the code exhaustively checks all the common ones. If more than MAX_POINTS_FOR_MEMORY_SAFETY points have been loaded, the code stops loading more points. Afterwards, it saves a new .ply using save_filtered_ply().

## Data Processing
subsample_point_cloud() - it subsamples. The subsample factor can be adjusted above. Just note that memory limit serves as a subsample already since we are only loading a subset of all the points.

filter_point_cloud() - uses ROI to filter points within ROI.

apply_statistical_outlier_removal() - SOR noise remover. nb_points is number of neigbouring points SOR will consider in the computation. std_ratio is basically the tolerance SOR will have for noise. Higher = more tolerance. Can be turned off.

## Projection and Masking
project_to_2d_intensity_map() - takes the most intense point per X, Y value and plots that.

apply_inpainting() - checks for any large blank spaces and paints in. Can be turned off.

convert_to_8bit_grayscale() - converts the scalar map to greyscale with Linear of Logarithmic method

clean_lane_mask() - some cleaning code. Uses Connected Componenet Analysis to remove artefacts. Some morphing is done to neaten up parts (this may merge some unintended lines though).





